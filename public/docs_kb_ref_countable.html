<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><title>Knockback.js Docs</title><link rel="stylesheet" href="vendor/stylesheets/bootstrap.min.css"><link rel="stylesheet" href="stylesheets/layout.css"><link rel="stylesheet" href="stylesheets/layout_components.css"><script type="application/javascript" src="vendor/javascripts/jquery-1.7.2.js"></script><link rel="stylesheet" href="stylesheets/docs.css"><link rel="stylesheet" href="vendor/lib/highlight/highlightjs/stylesheets/dark.css"><script type="application/javascript" src="vendor/lib/highlight/highlightjs/highlight.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlightjs/languages/javascript.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlight-coffee.js"></script><script type="application/javascript" src="vendor/javascripts/bootstrap.js"></script><script type="application/javascript" src="javascripts/interface.js"></script><script type="application/javascript">hljs.tabReplace = '  ';
hljs.initHighlightingOnLoad();</script></head><body><div id="wrap"><div class="page navbar"><div class="navbar page"><div class="navbar-inner"><div class="container"><a class="brand kb">Knockback.js</a><ul class="nav"><li><a href="index.html">Home</a></li><li><a href="tutorial_getting_started.html">Getting Started</a></li><li class="active"><a href="docs.html">Docs</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Tutorials<b class="caret"></b></a><ul class="dropdown-menu"><li></li><a href="tutorial_getting_started.html">Getting Started</a><a href="tutorial_kb_view_model.html">kb.ViewModel</a><a href="tutorial_kb_observable_options.html">kb.Observable Options</a><a href="tutorial_kb_localized_observable.html">kb.LocalizedObservable</a><a href="tutorial_relational_models.html">Relational Models</a><a href="tutorial_locale_manager.html">Custom Locale Manager</a><a href="tutorial_todos_app.html">Todos App</a></ul></li><li><a href="release_notes.html">Release Notes</a></li></ul><div id="script_language"><div class="separator"><div class="selection codestyle"><div class="option"><input id="cs-cs" type="radio" name="codestyle" value="cs" class="auto"/><label for="cs-cs">CoffeeScript</label></div><div class="option"><input id="cs-js" type="radio" name="codestyle" value="js"/><label for="cs-js">Javascript</label></div></div></div></div></div></div></div></div></div><div id="wrap"><div class="page container"><header class="page"></header><content class="page"><div class="api container"><h1>Knockback.js API and Usage Examples</h1><div class="container-fluid"><div class="row-fluid"><div class="span3 api index"><div class="content"><ul><li class="type"><a href="docs_kb_view_model.html">kb.ViewModel</a></li><li class="type"><a href="docs_kb_observable.html">kb.Observable</a></li><li class="type"><a href="docs_kb_observables.html">kb.Observables</a></li><li class="type"><a href="docs_kb_collection_observable.html">kb.CollectionObservable</a></li><li class="type"><a href="docs_kb_utils.html">kb.utils</a></li><li class="type"><a href="docs_kb_localized_observable.html">kb.LocalizedObservable</a></li><li class="type"><a href="docs_kb_formatted_observable.html">kb.FormattedObservable</a></li><li class="type"><a href="docs_kb_default_wrapper.html">kb.DefaultWrapper</a></li><li class="type"><a href="docs_kb_triggered_observable.html">kb.TriggeredObservable</a></li><li class="type active"><a href="docs_kb_ref_countable.html">kb.RefCountable</a><li>- <a href="#extend">extend</a></li><li>- <a href="#constructor">constructor</a></li><li>- <a href="#retain">retain</a></li><li>- <a href="#ref_count">refCount</a></li><li>- <a href="#release">release</a></li><li>- <a href="#__destroy">__destroy</a></li></li></ul></div></div><div class="span9 api descriptions"><div class="content"><div class="wrapper"><!--////////////////////////////////--><!-- kb.RefCountable--><!--////////////////////////////////--><h2>kb.RefCountable</h2><div>The base class for all reference-counted classes</div><h4>Example:</h4><pre data-for="cs">class MyClass extends kb.RefCountable
  constructor: -&gt;
    super
    # do something
    
  __destroy: -&gt;
    # clean up
    super
    
my_instance = new MyClass()  # ref count: 1

my_instance.retain()    # ref count: 2
my_instance.release()   # ref count: 1

my_instance.release()   # ref count: 0 and __destroy() called
</pre><pre data-for="js">var MyClass = kb.RefCountable.extend({
  constructor: function(){
    kb.RefCountable.prototype.constructor.apply(this, arguments);
    // do something
  },
  __destroy: function(){
    // clean up
    kb.RefCountable.prototype.__destroy.apply(this, arguments);
  }
});
var my_instance = new MyClass();  // ref count: 1

my_instance.retain();   // ref count: 2
my_instance.release();  // ref count: 1

my_instance.release();  // ref count: 0 and __destroy() called
</pre><h3 id="extend">kb.RefCountable::extend(properties, [classProperties]) <span class="label label-success">class</span></h3><div>Used to derive a class in JavaScript (when CoffeeScript is not used)</div><h4>Example:</h4><pre data-for="cs">MyClass = kb.RefCountable.extend({
  constructor: (model) -&gt;
    kb.RefCountable.prototype.constructor.apply(this, arguments)
    # to something
    </pre><pre data-for="js">var MyClass = kb.RefCountable.extend({
  constructor: function(model){
    kb.RefCountable.prototype.constructor.apply(this, arguments);
    // to something
  }
});
</pre><h3 id="constructor">constructor</h3><div>Used to create a new instance</div><h3 id="retain">retain()</h3><div>Increases reference count by 1</div><pre data-for="cs">my_instance.retain()</pre><pre data-for="js">my_instance.retain();
</pre><h3 id="ref_count">refCount()</h3><div>Returns the current reference count</div><pre data-for="cs">my_instance.refCount()</pre><pre data-for="js">my_instance.refCount();
</pre><h3 id="release">release()</h3><div>Decreases reference count by 1 and calls __destroy() when ref_count becomes 0</div><pre data-for="cs">my_instance.release()</pre><pre data-for="js">my_instance.release();
</pre><h3 id="__destroy">__destroy() <span class="label">abstract</span></h3><div>Called when reference count becomes 0</div><pre data-for="cs">my_instance = new MyClass()       # ref count: 1
my_instance.release()             # ref count: 0 and __destroy() called</pre><pre data-for="js">var my_instance = new MyClass();  // ref count: 1
my_instance.release();            // ref count: 0 and __destroy() called
</pre></div></div></div></div></div></div></content><footer class="page"></footer></div></div></body></html>