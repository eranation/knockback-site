<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><title>Tutorial: kb.ViewModel</title><link rel="stylesheet" href="vendor/stylesheets/bootstrap.min.css"><link rel="stylesheet" href="stylesheets/layout.css"><link rel="stylesheet" href="stylesheets/layout_components.css"><script type="application/javascript" src="vendor/javascripts/jquery-1.7.2.js"></script><link rel="stylesheet" href="stylesheets/tutorial.css"><script type="application/javascript" src="vendor/javascripts/knockout-2.1.0.debug.js"></script><script type="application/javascript" src="vendor/javascripts/underscore-1.3.1.js"></script><script type="application/javascript" src="vendor/javascripts/backbone-0.9.2.js"></script><script type="application/javascript" src="vendor/javascripts/knockback-0.15.1.js"></script><link rel="stylesheet" href="vendor/lib/highlight/highlightjs/stylesheets/dark.css"><script type="application/javascript" src="vendor/lib/highlight/highlightjs/highlight.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlightjs/languages/javascript.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlight-coffee.js"></script><script type="application/javascript" src="vendor/javascripts/bootstrap.js"></script><script type="application/javascript" src="javascripts/interface.js"></script><script type="application/javascript">hljs.tabReplace = '  ';
hljs.initHighlightingOnLoad();</script></head><body><div id="wrap"><div class="page navbar"><div class="navbar page"><div class="navbar-inner"><div class="container"><a class="brand kb">Knockback.js</a><ul class="nav"><li><a href="index.html">Home</a></li><li><a href="tutorial_getting_started.html">Getting Started</a></li><li><a href="docs.html">Docs</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Tutorials<b class="caret"></b></a><ul class="dropdown-menu"><li></li><a href="tutorial_getting_started.html">Getting Started</a><a href="tutorial_kb_view_model.html">kb.ViewModel</a><a href="tutorial_kb_observable_options.html">kb.Observable Options</a><a href="tutorial_kb_localized_observable.html">kb.LocalizedObservable</a><a href="tutorial_relational_models.html">Relational Models</a><a href="tutorial_locale_manager.html">Custom Locale Manager</a><a href="tutorial_todos_app.html">Todos App</a></ul></li><li><a href="release_notes.html">Release Notes</a></li></ul><div id="script_language"><div class="separator"><div class="selection codestyle"><div class="option"><input id="cs-cs" type="radio" name="codestyle" value="cs" class="auto"/><label for="cs-cs">CoffeeScript</label></div><div class="option"><input id="cs-js" type="radio" name="codestyle" value="js"/><label for="cs-js">Javascript</label></div></div></div></div></div></div></div></div></div><div id="wrap"><div class="page container"><header class="page"></header><content class="page"><section><h1>Tutorial: kb.ViewModel</h1><p><a href="index.html">Knockback.js</a><span> has a helper called </span><a href="docs_kb_view_model.html">kb.ViewModel</a><span> to automatically generate observables for each attribute</span></p><p><span>Most likely you will use the kb.viewModel(model) </span><span class="label label-info">factory</span><span> method to create a kb.ViewModel.</span></p><p><span class="label label-important">warning</span><span> Unless you specify otherwise, a kb.ViewModel creates an observable for every attribute (including the id) which can cause performance issues on a page with many models. It is recommended to get started quickly with kb.ViewModels and then optimize with specialized classes like kb.Observable and kb.CollectionObservable.</span></p><p></p><h3>Attribute Type: Backbone.Model</h3><p></p><p>If Knockback encounters a attribute that is a Backbone.Model, it automatically creates a kb.ViewModel for it. Because the model can change behind the scenes, you must access the view model using the 'attribute_name()' syntax rather than as a simple property.</p><div class="container-fluid"><div class="row-fluid"><div class="span8"><h4>Views:</h4><pre>&lt;div id='kbvm_bb_model'&gt;
  &lt;p&gt;
    &lt;span&gt;First Person: &lt;/span&gt;
    &lt;input data-bind=&quot;value: name&quot;/&gt;
  &lt;/p&gt;
  &lt;p&gt;
    &lt;span&gt;Second Person: &lt;/span&gt;
    &lt;input data-bind=&quot;value: friend().name&quot;/&gt;
  &lt;/p&gt;

  &lt;p&gt;
    &lt;span&gt;Person: &lt;/span&gt;
    &lt;span data-bind=&quot;text: name&quot;&gt;&lt;/span&gt;
  &lt;p&gt;
    &lt;span&gt;Has this friend: &lt;/span&gt;
    &lt;span data-bind=&quot;text: friend().name&quot;&gt;&lt;/span&gt;
  &lt;/p&gt;
&lt;/div&gt;</pre><h4>ViewModel and Bindings:</h4><pre data-for="cs">bob = new Backbone.Model({name: 'Bob', friend: new Backbone.Model({name: 'Fred'})})

view_model = kb.viewModel(bob)

ko.applyBindings(view_model, $('#kbvm_bb_model')[0])</pre><pre data-for="js">// Generated by CoffeeScript 1.3.1
var bob, view_model;

bob = new Backbone.Model({
  name: 'Bob',
  friend: new Backbone.Model({
    name: 'Fred'
  })
});

view_model = kb.viewModel(bob);

ko.applyBindings(view_model, $('#kbvm_bb_model')[0]);
</pre></div><div class="span4"><h4>Live Result</h4><div class="demos_result_box"><div id='kbvm_bb_model'>
  <p>
    <span>First Person: </span>
    <input data-bind="value: name"/>
  </p>
  <p>
    <span>Second Person: </span>
    <input data-bind="value: friend().name"/>
  </p>

  <p>
    <span>Person: </span>
    <span data-bind="text: name"></span>
  <p>
    <span>Has this friend: </span>
    <span data-bind="text: friend().name"></span>
  </p>
</div><script type="application/javascript" src="tutorials/kb_view_model/kbvm_bb_model_view_model_bindings.js"></script></div></div></div></div><p></p><h3>Attribute Type: Backbone.Collection</h3><p></p><p>If Knockback encounters a attribute that is a Backbone.Collection, it automatically creates a kb.CollectionObservable for it and a kb.ViewModel for each of it's models. Because the collection can change behind the scenes, you must access the collection observable using the 'attribute_name()' syntax rather than as a simple property.</p><div class="container-fluid"><div class="row-fluid"><div class="span8"><h4>Views:</h4><pre>&lt;div id='kbvm_bb_collection'&gt;
  &lt;p&gt;
    &lt;span&gt;First Person: &lt;/span&gt;
    &lt;input data-bind=&quot;value: name&quot;/&gt;
  &lt;/p&gt;
  &lt;p&gt;
    &lt;span&gt;Second Person: &lt;/span&gt;
    &lt;input data-bind=&quot;value: friends()[0].name&quot;/&gt;
  &lt;/p&gt;
  &lt;p&gt;
    &lt;span&gt;Third Person: &lt;/span&gt;
    &lt;input data-bind=&quot;value: friends()[1].name&quot;/&gt;
  &lt;/p&gt;

  &lt;p&gt;
    &lt;span&gt;Person: &lt;/span&gt;
    &lt;span data-bind=&quot;text: name&quot;&gt;&lt;/span&gt;
  &lt;p&gt;
    &lt;span&gt;Has these friends: &lt;/span&gt;
    &lt;ul data-bind=&quot;foreach: friends&quot;&gt;
      &lt;li data-bind=&quot;text: name&quot;&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/p&gt;
&lt;/div&gt;</pre><h4>ViewModel and Bindings:</h4><pre data-for="cs">bob = new Backbone.Model({name: 'Bob', friends: new Backbone.Collection([new Backbone.Model({name: 'Fred'}), new Backbone.Model({name: 'John'})])})

view_model = kb.viewModel(bob)

ko.applyBindings(view_model, $('#kbvm_bb_collection')[0])</pre><pre data-for="js">// Generated by CoffeeScript 1.3.1
var bob, view_model;

bob = new Backbone.Model({
  name: 'Bob',
  friends: new Backbone.Collection([
    new Backbone.Model({
      name: 'Fred'
    }), new Backbone.Model({
      name: 'John'
    })
  ])
});

view_model = kb.viewModel(bob);

ko.applyBindings(view_model, $('#kbvm_bb_collection')[0]);
</pre></div><div class="span4"><h4>Live Result</h4><div class="demos_result_box"><div id='kbvm_bb_collection'>
  <p>
    <span>First Person: </span>
    <input data-bind="value: name"/>
  </p>
  <p>
    <span>Second Person: </span>
    <input data-bind="value: friends()[0].name"/>
  </p>
  <p>
    <span>Third Person: </span>
    <input data-bind="value: friends()[1].name"/>
  </p>

  <p>
    <span>Person: </span>
    <span data-bind="text: name"></span>
  <p>
    <span>Has these friends: </span>
    <ul data-bind="foreach: friends">
      <li data-bind="text: name"></li>
    </ul>
  </p>
</div><script type="application/javascript" src="tutorials/kb_view_model/kbvm_bb_collection_view_model_bindings.js"></script></div></div></div></div></section></content><footer class="page"></footer></div></div></body></html>