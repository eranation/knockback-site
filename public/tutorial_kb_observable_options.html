<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><title>Tutorial: kb.Observable Options</title><link rel="stylesheet" href="vendor/stylesheets/bootstrap.min.css"><link rel="stylesheet" href="stylesheets/layout.css"><link rel="stylesheet" href="stylesheets/layout_components.css"><script type="application/javascript" src="vendor/javascripts/jquery-1.7.2.js"></script><link rel="stylesheet" href="stylesheets/tutorial.css"><script type="application/javascript" src="vendor/javascripts/knockout-2.1.0.debug.js"></script><script type="application/javascript" src="vendor/javascripts/underscore-1.3.1.js"></script><script type="application/javascript" src="vendor/javascripts/backbone-0.9.2.js"></script><script type="application/javascript" src="vendor/javascripts/knockback-0.15.1.js"></script><link rel="stylesheet" href="vendor/lib/highlight/highlightjs/stylesheets/dark.css"><script type="application/javascript" src="vendor/lib/highlight/highlightjs/highlight.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlightjs/languages/javascript.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlight-coffee.js"></script><script type="application/javascript" src="vendor/javascripts/bootstrap.js"></script><script type="application/javascript" src="javascripts/interface.js"></script><script type="application/javascript">hljs.tabReplace = '  ';
hljs.initHighlightingOnLoad();</script></head><body><div id="wrap"><div class="page navbar"><div class="navbar page"><div class="navbar-inner"><div class="container"><a class="brand kb">Knockback.js</a><ul class="nav"><li><a href="index.html">Home</a></li><li><a href="tutorial_getting_started.html">Getting Started</a></li><li><a href="docs.html">Docs</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Tutorials<b class="caret"></b></a><ul class="dropdown-menu"><li></li><a href="tutorial_getting_started.html">Getting Started</a><a href="tutorial_kb_view_model.html">kb.ViewModel</a><a href="tutorial_kb_observable_options.html">kb.Observable Options</a><a href="tutorial_kb_localized_observable.html">kb.LocalizedObservable</a><a href="tutorial_relational_models.html">Relational Models</a><a href="tutorial_locale_manager.html">Custom Locale Manager</a><a href="tutorial_todos_app.html">Todos App</a></ul></li><li><a href="release_notes.html">Release Notes</a></li></ul><div id="script_language"><div class="separator"><div class="selection codestyle"><div class="option"><input id="cs-cs" type="radio" name="codestyle" value="cs" class="auto"/><label for="cs-cs">CoffeeScript</label></div><div class="option"><input id="cs-js" type="radio" name="codestyle" value="js"/><label for="cs-js">Javascript</label></div></div></div></div></div></div></div></div></div><div id="wrap"><div class="page container"><header class="page"></header><content class="page"><section><h1>Tutorial: kb.Observable Options</h1><p><a href="index.html">Knockback.js</a><span> provides ways to customize a kb.Observable when it is created. This tutorial provides working examples of using these options.</span></p><p></p><h3>{read: function(), write: function(value)}</h3><p>Instead of performing a simple Backbone.Model get or set to synchronize with a kb.Observable, you can provide a custom read or write method like for a ko.observable.</p><p><strong>Note:</strong><span> just like in Knockout.js, if you require access to the owning view model, it provided as 'this' in read and write methods if you provide it as a parameter to the kb.observable's create method: (model, options, owning_view_model)</span></p><div class="container-fluid"><div class="row-fluid"><div class="span8"><h4>Views:</h4><pre>&lt;div id='kboo_read_write'&gt;
  &lt;p data-bind=&quot;text: number&quot;&gt;&lt;/p&gt;
  &lt;input data-bind=&quot;value: formatted_number&quot;/&gt;
&lt;/div&gt;</pre><h4>ViewModel and Bindings:</h4><pre data-for="cs">model = new Backbone.Model({number: 33})

ViewModel = (model) ->
  @number = kb.observable(model, 'number')
  @formatted_number = kb.observable(model, {
    key:'number'
    read: -> return "#: #{@number()}"
    write: (value) -> @number(value.substring(3))
  }, @)
  @

view_model = new ViewModel(model)

ko.applyBindings(view_model, $('#kboo_read_write')[0])</pre><pre data-for="js">// Generated by CoffeeScript 1.3.1
var ViewModel, model, view_model;

model = new Backbone.Model({
  number: 33
});

ViewModel = function(model) {
  this.number = kb.observable(model, 'number');
  this.formatted_number = kb.observable(model, {
    key: 'number',
    read: function() {
      return "#: " + (this.number());
    },
    write: function(value) {
      return this.number(value.substring(3));
    }
  }, this);
  return this;
};

view_model = new ViewModel(model);

ko.applyBindings(view_model, $('#kboo_read_write')[0]);
</pre></div><div class="span4"><h4>Live Result</h4><div class="demos_result_box"><div id='kboo_read_write'>
  <p data-bind="text: number"></p>
  <input data-bind="value: formatted_number"/>
</div><script type="application/javascript" src="tutorials/kb_observable_options/kboo_read_write_view_model_bindings.js"></script></div></div></div></div><p></p><h3>{read_only: boolean}</h3><p>If you want to block an Backbone.Model's attribute from being updated, you can provide a read_only option. Knockback will throw an Error is the observable attempts to update the attribute.</p><div class="container-fluid"><div class="row-fluid"><div class="span8"><h4>Views:</h4><pre>&lt;div id='kboo_read_only'&gt;
  &lt;input data-bind=&quot;value: number_wrapper&quot;/&gt;
&lt;/div&gt;</pre><h4>ViewModel and Bindings:</h4><pre data-for="cs">model = new Backbone.Model({number: 33})

ViewModel = (model) ->
  @number = kb.observable(model, {
    key: 'number',
    read_only: true
  })
  @number_wrapper = ko.computed({
    read: @number
    write: (value) ->
      try
        @number(value)
      catch e
        alert("#{e}. Model value: #{model.get('number')}")
    owner: @
  })
  @

view_model = new ViewModel(model)

ko.applyBindings(view_model, $('#kboo_read_only')[0])</pre><pre data-for="js">// Generated by CoffeeScript 1.3.1
var ViewModel, model, view_model;

model = new Backbone.Model({
  number: 33
});

ViewModel = function(model) {
  this.number = kb.observable(model, {
    key: 'number',
    read_only: true
  });
  this.number_wrapper = ko.computed({
    read: this.number,
    write: function(value) {
      try {
        return this.number(value);
      } catch (e) {
        return alert("" + e + ". Model value: " + (model.get('number')));
      }
    },
    owner: this
  });
  return this;
};

view_model = new ViewModel(model);

ko.applyBindings(view_model, $('#kboo_read_only')[0]);
</pre></div><div class="span4"><h4>Live Result</h4><div class="demos_result_box"><div id='kboo_read_only'>
  <input data-bind="value: number_wrapper"/>
</div><script type="application/javascript" src="tutorials/kb_observable_options/kboo_read_only_view_model_bindings.js"></script><p></p></div></div></div></div><p></p><h3>{localizer: constructor(value)}</h3><p><span>Instead of a read and/or write option, you can provide a kb.LocalizedObservable derived class for custom localized of an attribute. Please see the </span><a href="tutorial_kb_localized_observable.html#localized_input">kb.LocalizedObservable tutorial</a><span> for an example.</span></p></section><!--<p></p><h3>{default: function() or value}</h3><p>If you want to block an Backbone.Model's attribute from being updated, you can provide a read_only option. Knockback will throw an Error is the observable attempts to update the attribute.</p><div class="container-fluid"><div class="row-fluid"><div class="span8"><h4>Views:</h4><pre>&lt;div id='kboo_default'&gt;
  &lt;div data-bind=&quot;text: name&quot;&gt;&lt;/div&gt;
&lt;/div&gt;</pre><h4>ViewModel and Bindings:</h4><pre data-for="cs">model = new Backbone.Model({})

ViewModel = (model) ->
  @name = kb.observable(model, {
    key: 'name'
    default: '(no name)'
  })
  @

view_model = new ViewModel(model)

ko.applyBindings(view_model, $('#kboo_default')[0])</pre><pre data-for="js">// Generated by CoffeeScript 1.3.1
var ViewModel, model, view_model;

model = new Backbone.Model({});

ViewModel = function(model) {
  this.name = kb.observable(model, {
    key: 'name',
    "default": '(no name)'
  });
  return this;
};

view_model = new ViewModel(model);

ko.applyBindings(view_model, $('#kboo_default')[0]);
</pre></div><div class="span4"><h4>Live Result</h4><div class="demos_result_box"><div id='kboo_default'>
  <div data-bind="text: name"></div>
</div><script type="application/javascript" src="tutorials/kb_observable_options/kboo_default_view_model_bindings.js"></script><p></p></div></div></div></div>--></content><footer class="page"></footer></div></div></body></html>