<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><title>Knockback.js Docs</title><link rel="stylesheet" href="vendor/stylesheets/bootstrap.min.css"><link rel="stylesheet" href="stylesheets/layout.css"><link rel="stylesheet" href="stylesheets/layout_components.css"><script type="application/javascript" src="vendor/javascripts/jquery-1.7.2.js"></script><link rel="stylesheet" href="stylesheets/docs.css"><link rel="stylesheet" href="vendor/lib/highlight/highlightjs/stylesheets/dark.css"><script type="application/javascript" src="vendor/lib/highlight/highlightjs/highlight.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlightjs/languages/javascript.js"></script><script type="application/javascript" src="vendor/lib/highlight/highlight-coffee.js"></script><script type="application/javascript" src="vendor/javascripts/bootstrap.js"></script><script type="application/javascript" src="javascripts/interface.js"></script><script type="application/javascript">hljs.tabReplace = '  ';
hljs.initHighlightingOnLoad();</script></head><body><div id="wrap"><div class="page navbar"><div class="navbar page"><div class="navbar-inner"><div class="container"><a class="brand kb">Knockback.js</a><ul class="nav"><li><a href="index.html">Home</a></li><li><a href="tutorial_getting_started.html">Getting Started</a></li><li class="active"><a href="docs.html">Docs</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Tutorials<b class="caret"></b></a><ul class="dropdown-menu"><li></li><a href="tutorial_getting_started.html">Getting Started</a><a href="tutorial_kb_view_model.html">kb.ViewModel</a><a href="tutorial_relational_models.html">Relational Models</a><a href="tutorial_todos.html">Todos</a></ul></li><li><a href="release_notes.html">Release Notes</a></li></ul><div id="script_language"><div class="separator"><div class="selection codestyle"><div class="option"><input id="cs-cs" type="radio" name="codestyle" value="cs" class="auto"/><label for="cs-cs">CoffeeScript</label></div><div class="option"><input id="cs-js" type="radio" name="codestyle" value="js"/><label for="cs-js">Javascript</label></div></div></div></div></div></div></div></div></div><div id="wrap"><div class="page container"><header class="page"></header><content class="page"><div class="api container"><h1>Knockback.js API and Usage Examples</h1><div class="container-fluid"><div class="row-fluid"><div class="span3 api index"><div class="content"><ul><li class="type"><a href="docs_kb_view_model.html">kb.ViewModel</a></li><li class="type"><a href="docs_kb_observable.html">kb.Observable</a></li><li class="type"><a href="docs_kb_observables.html">kb.Observables</a></li><li class="type active"><a href="docs_kb_collection_observable.html">kb.CollectionObservable</a><li>- <a href="#factory">kb.collectionObservable</a></li><li>- <a href="#constructor">constructor</a></li><li>- <a href="#collection">collection</a></li><li>- <a href="#sorted_index">sortedIndex</a></li><li>- <a href="#sort_attribute">sortAttribute</a></li><li>- <a href="#has_view_models">hasViewModels</a></li></li><li class="type"><a href="docs_kb_utils.html">kb.utils</a></li><li class="type"><a href="docs_kb_localized_observable.html">kb.LocalizedObservable</a></li><li class="type"><a href="docs_kb_formatted_observable.html">kb.FormattedObservable</a></li><li class="type"><a href="docs_kb_default_wrapper.html">kb.DefaultWrapper</a></li><li class="type"><a href="docs_kb_triggered_observable.html">kb.TriggeredObservable</a></li><li class="type"><a href="docs_kb_ref_countable.html">kb.RefCountable</a></li></ul></div></div><div class="span9 api descriptions"><div class="content"><div class="wrapper"><!--////////////////////////////////--><!-- kb.CollectionObservable--><!--////////////////////////////////--><h2>kb.CollectionObservable</h2><div>Used to generate ViewModels automatically for a collections's models</div><h4>Super class:<a href="docs_kb_ref_countable.html"> kb.RefCountable</a></h4><h4>Example:</h4><pre data-for="cs">view_model =
  todos: kb.collectionObservable(new Backbone.Collection([{name: 'name1'}, {name: 'name2'}]))</pre><pre data-for="js">var view_model = {
  todos: kb.collectionObservable(new Backbone.Collection([{name: 'name1'}, {name: 'name2'}]))
};
</pre><h3 id="factory">kb.collectionObservable(collection, [options]) <span class="label label-info">factory</span></h3><div>Used to create a new instance</div><h4>Parameters<ol><li><strong>model: </strong><strong>model: </strong><span class="type">{ Backbone.Collection }: </span><span>the collection to synchronize with model additions, removals, and resorting </span></li><li><strong>options: </strong><span class="label label-inverse">optional</span><ul><li>view_model <span class="type">{ constructor(model, options) }: </span></li><li>view_model_create <span class="type">{ function(model, options) }: </span></li><li>create <span class="type">{ function(model, options) }: </span></li><li>sort_attribute <span class="type">{ string }: </span></li><li>sorted_index <span class="type">{ function(models | view_models, model_to_add | view_model_to_add) }: </span></li><li>defer <span class="type">{ boolean }: </span></li><!--li='store '--><!--  span.type='{ function(model, options) }: '--><!--li='store_skip_resolve '--><!--  span.type='{ boolean }: '--></ul></li></ol></h4><h4>Example:</h4><pre data-for="cs">todos = kb.collectionObservable(new Backbone.Collection([{name: 'name1'}, {name: 'name2'}]))
</pre><pre data-for="js">var todos = kb.collectionObservable(new Backbone.Collection([{name: 'name1'}, {name: 'name2'}]));
</pre><h3 id="constructor">constructor(collection, [options]) </h3><div>Used to create a new instance</div><h4>Parameters<ol><li><strong>model: </strong><strong>model: </strong><span class="type">{ Backbone.Collection }: </span><span>the collection to synchronize with model additions, removals, and resorting </span></li><li><strong>options: </strong><span class="label label-inverse">optional</span><ul><li>view_model <span class="type">{ constructor(model, options) }: </span></li><li>view_model_create <span class="type">{ function(model, options) }: </span></li><li>create <span class="type">{ function(model, options) }: </span></li><li>sort_attribute <span class="type">{ string }: </span></li><li>sorted_index <span class="type">{ function(models | view_models, model_to_add | view_model_to_add) }: </span></li><li>defer <span class="type">{ boolean }: </span></li><!--li='store '--><!--  span.type='{ function(model, options) }: '--><!--li='store_skip_resolve '--><!--  span.type='{ boolean }: '--></ul></li></ol></h4><h4>Example:</h4><pre data-for="cs">todos = new kb.CollectionObservable(new Backbone.Collection([{name: 'name1'}, {name: 'name2'}]))
</pre><pre data-for="js">var todos = new kb.CollectionObservable(new Backbone.Collection([{name: 'name1'}, {name: 'name2'}]));
</pre><h3 id="collection">collection([collection], [options]) <span class="label label-important">dual purpose</span></h3><div>Used to get/set the collection</div><h4>Parameters<ol><li><strong>collection </strong><span class="type">{ Backbone.Collection }: </span><span class="label label-inverse">optional</span><span> the collection to synchronize with model additions, removals, and resorting </span></li><li><strong>options: </strong><span class="label label-inverse">optional</span><ul><li>silent <span class="type">{ boolean }: </span></li></ul></li></ol></h4><h4>Example:</h4><pre data-for="cs">todos = new kb.CollectionObservable(new Backbone.Collection())

# get
current_collection = todos.collection()

# set
todos.collection(new Backbone.Collection([{name: 'name3'}, {name: 'name4'}]))
</pre><pre data-for="js">var todos = new kb.CollectionObservable(new Backbone.Collection();

# get
var current_collection = todos.collection();

# set
todos.collection(new Backbone.Collection([{name: 'name3'}, {name: 'name4'}]));
</pre><h3 id="sorted_index">sortedIndex(sorted_index, [sort_attribute], [options])</h3><div>Sets the sorted_index function for sorting Models or ViewModels in the collection observable</div><pre data-for="cs"># change the sorting function
collection_observable.sortedIndex(
  ((view_models, vm) -&gt; _.sortedIndex(view_models, vm, (test) -&gt; kb.utils.wrappedModel(test).get('name')))
)
</pre><pre data-for="js">// change the sorting function
collection_observable.sortedIndex(
  function(view_models, vm){
    return _.sortedIndex(view_models, vm, (test) -&gt; kb.utils.wrappedModel(test).get('name'));
  }
);
</pre><h3 id="sort_attribute">sortAttribute((sort_attribute, [sorted_index], [silent]))</h3><div>Sets the sort attribute name for the collection observable</div><pre data-for="cs">todos = new kb.CollectionObservable(new Backbone.Collection([{name: 'Zanadu', name: 'Alex'}]))
# in order of Zanadu then Alex

todos.sortAttribute('name')
# in order of Alex then Zanadu
</pre><pre data-for="js">var todos = new kb.CollectionObservable(new Backbone.Collection([{name: 'Zanadu', name: 'Alex'}]));
// in order of Zanadu then Alex

todos.sortAttribute('name');
// in order of Alex then Zanadu
</pre><h3 id="has_view_models">hasViewModels()</h3><div>Returns true if the collection observable was initialized with a view model create option (and hence generates view models for each model)</div><pre data-for="cs">todos1 = new kb.CollectionObservable(new Backbone.Collection())
todos1.hasViewModels()      # false

todos2 = new kb.CollectionObservable(new Backbone.Collection(), {view_model: kb.ViewModel})
todos2.hasViewModels()      # true
</pre><pre data-for="js">var todos1 = new kb.CollectionObservable(new Backbone.Collection());
todos1.hasViewModels();     // false

var todos2 = new kb.CollectionObservable(new Backbone.Collection(), {view_model: kb.ViewModel});
todos2.hasViewModels();     // true
</pre></div></div></div></div></div></div></content><footer class="page"></footer></div></div></body></html>